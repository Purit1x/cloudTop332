# 棋子设计

## 一、预期功能

### 1.1 共有功能

* 根据敌人位置进行移动，将本身位置与目标位置传给棋盘，由棋盘反馈寻找到的路径
* 转身朝向敌人
* 具备红蓝条，在蓝条满时释放技能，蓝量在发动攻击以及受到伤害时可进行累积
* 可对敌人发起攻击，可受到敌人的伤害

### 1.2 各类棋子独有功能

#### 职业

* 剑士：近战，使用剑对敌人造成伤害
* ATK：10 HP：100 MP：50  每次增加5
* * 技能：下一次攻击对敌人造成双倍伤害 ATK：20
* 枪手：远程，使用步枪对敌人造成伤害
* ATK：8 HP：80 MP：40 每次增加5
* * 技能：下一次攻击对敌人造成1.5倍伤害
* 坦克：阻挡敌人，吸收伤害
* ATK：3 HP：200 MP：50 每次增加5
* * 技能：回复自身生命值（20%）

#### 种族

* 光辉：蓝条上限更低（-10）
* 暗影：攻击力更高 （+5）
* 壁垒：生命值更高 （+35）

各种类差别通过材质与武器体现。

## 二、实现方法

### 1.1 共有功能实现

* 棋子本身具有移动组件，通过将自身位置与目标位置传给棋盘获取路径。同时，棋盘应对棋子的目标点进行标记，防止多个棋子走到同一格上。

* 棋子移动的过程：

* 1. 通过棋盘获取寻找到的路径

    2. 旋转朝向目标点

    2. 开始移动
    3. 途径中间格点
    4. 到达终点

* 各步骤有一系列要执行的函数，通过委托（delegate）实现。

#### 移动组件

见ChequerMovementComponent.md